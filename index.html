<!-- Existing HTML -->

<script>
// Flappy Bird Game
const block = document.getElementById("block");
const hole = document.getElementById("hole");
const character = document.getElementById("character");
let jumping = 0;
let counter = 0;

hole.addEventListener('animationiteration', () => {
  const random = -((Math.random()*300)+150);
  hole.style.top = random + "px";
  counter++;
});

setInterval(function() {
  const characterTop = parseInt(window.getComputedStyle(character).getPropertyValue("top"));
  if(jumping==0){
    character.style.top = (characterTop+3)+"px";
  }
  const blockLeft = parseInt(window.getComputedStyle(block).getPropertyValue("left"));
  if(blockLeft<20 && blockLeft>-20 && characterTop>=130){
    alert("Game Over. Score: "+ Math.floor(counter/100));
    counter=0;
    hole.style.animation = "none"; // stop animation
  }
},10);

function jump(){
  jumping = 1;
  let jumpCount = 0;
  const jumpInterval = setInterval(function(){
    const characterTop = parseInt(window.getComputedStyle(character).getPropertyValue("top"));
    if((characterTop>6)&&(jumpCount<15)){
      character.style.top = (characterTop-5)+"px";
    }
    if(jumpCount>20){
      clearInterval(jumpInterval);
      jumping=0;
      jumpCount=0;
    }
    jumpCount++;
  },10);
}
</script>

<div id="character"></div>
<div id="block"></div>
<div id="hole"></div>

<button onClick="jump()">Jump</button>

<!-- Styles -->
#character {
  width: 20px;
  height: 50px;
  background-color: #333;
  position: relative;
  top: 150px;
}

#block {
  width: 20px;
  height: 20px; 
  background-color: #333;
  position: relative;
  top: 100px;
  left: 500px;
  animation: block 2s infinite linear;
}

@keyframes block {
  0% {left: 500px;}
  100% {left: -20px;}
} 

#hole {
  width: 50px;
  height: 150px;
  background-color: #fff;
  position: relative;
  top: -150px;
  left: 500px;
  animation: hole 2s infinite linear;  
}

@keyframes hole {
  0% {left: 500px;}
  100% {left: -50px;}
}
